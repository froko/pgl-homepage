---
import { Calendar } from 'src/components/icons';
import type { TypeNewsFields } from 'src/contentful';
import contentfulImage from 'src/lib/contentful-image';

export interface Props extends TypeNewsFields {}

const { slug, titel, vorschaubild, datum } = Astro.props;
const link = `/news/${slug}`;
const vorschaubildUrl = vorschaubild.fields.file.url;
const height = 300;
const width = 400;
const localDate = new Date(datum).toLocaleDateString('de-CH', { year: 'numeric', month: '2-digit', day: '2-digit' });
---

<div class="border-b-4 border-pgl-blue shadow-xl duration-300 sm:bg-white md:hover:scale-105 md:hover:shadow-2xl">
  <a href={link}>
    <img
      src={contentfulImage(vorschaubildUrl, {
        height: height,
        width: width,
        quality: 80,
        fit: 'fill',
        format: 'webp'
      })}
      alt={titel}
      class="m-0 h-44 rounded-t-md object-cover md:h-56"
      height={height}
      width={width}
    />
    <div class="bg-white p-4">
      <div class="mb-2 flex items-end text-sm">
        <Calendar />
        <span>{localDate}</span>
      </div>
      <span class="text-xl font-semibold text-pgl-blue">{titel}</span>
    </div>
  </a>
</div>
