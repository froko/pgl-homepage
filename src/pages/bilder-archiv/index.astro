---
import ArrowLink from 'src/components/arrow-link.astro';
import type { TypeMediaFields } from 'src/contentful';
import Layout from 'src/layouts/Layout.astro';
import ContentService from 'src/lib/contentful';
import BilderArchivJahr from './_bilder-archiv-jahr.astro';

const media = (await ContentService.instance.getEntriesByType<TypeMediaFields>('media'))
  .map((entry: any) => entry.fields)
  .filter((m: any) => m.archiv);
---

<Layout title="PGL | Archiv">
  <main class="bg-slate-200">
    <div class="container">
      <article>
        <ArrowLink style="mt-12" href="/#media" content="Zurück zur Galerie" />
        <h1>Vergangene Jahre</h1>
        <BilderArchivJahr jahr={2023} media={media} />
        <BilderArchivJahr jahr={2022} media={media} />
        <BilderArchivJahr jahr={2021} media={media} />
        <BilderArchivJahr jahr={2020} media={media} />
        <BilderArchivJahr jahr={2019} media={media} />
        <BilderArchivJahr jahr={2018} media={media} />
        <BilderArchivJahr jahr={2017} media={media} />
        <BilderArchivJahr jahr={2016} media={media} />
        <BilderArchivJahr jahr={2015} media={media} />
        <ArrowLink style="mt-6" href="/#media" content="Zurück zur Galerie" />
      </article>
    </div>
  </main>
</Layout>
